<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        // Set dark theme class before CSS loads to prevent white flash
        try {
            if (localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark-theme');
                document.body.classList.add('dark-theme');
            }
        } catch (e) { }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raj Sweet Mart - Home</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Intel+One+Mono:ital,wght@0,300..700;1,300..700&display=swap');
        
        /* Background Image Slideshow Styles */
        .background-slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        /* Add a subtle zoom animation for more dynamic effect */
        .slide.active {
            animation: slowZoom 3s ease-in-out;
        }
        
        @keyframes slowZoom {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }
        
        /* Background overlay for better text readability */
        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: -1;
        }
        
        /* Ensure hero content is above slideshow */
        .hero {
            position: relative;
            z-index: 1;
        }
        
        /* Loading animation for smooth start */
        .slideshow-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            z-index: -2;
            opacity: 1;
            transition: opacity 1s ease-out;
        }
        
        .slideshow-loading.hidden {
            opacity: 0;
        }
    </style>
    <!-- Theme CSS - Add this before your main CSS -->
    <link rel="stylesheet" href="css/theme.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
</head>
<body class="background-image">
    <!-- Loading Background -->
    <div class="slideshow-loading" id="slideshowLoading"></div>
    
    <!-- Background Image Slideshow -->
    <div class="background-slideshow" id="backgroundSlideshow">
        <div class="slide" style="background-image: url('/images/back6.jpg')"></div>
        <div class="slide" style="background-image: url('/images/kajukatli.jpg')"></div>
        <div class="slide" style="background-image: url('/images/back.jpeg')"></div>
        <div class="slide" style="background-image: url('/images/back2.jpg')"></div>
        <div class="slide" style="background-image: url('/images/back3.jpg')"></div>
        <div class="slide" style="background-image: url('/images/back4.jpg')"></div>
    </div>
    
    <!-- Background Overlay -->
    <div class="background-overlay"></div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="logo"><a href="index.html" style="text-decoration: none; color: inherit;">RAJ SWEET MART</a>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-button">Home</a>
                <a href="menu.html" class="nav-button">Menu</a>
                <a href="diwali.html" class="nav-button">Diwali-Special</a>
                <a href="contact.html" class="nav-button">Contact</a>
            </div>
            <!-- Theme toggle button -->
            <button class="theme-toggle-btn" id="themeToggleBtn" title="Toggle light/dark mode" type="button">
                <i class="fas fa-moon"></i>
            </button>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <span id="menu-icon">â˜°</span>
            </button>
        </div>
        <div class="mobile-nav" id="mobile-nav">
            <a href="index.html" class="mobile-nav-link">Home</a>
            <a href="menu.html" class="mobile-nav-link">Menu</a>
            <a href="diwali.html" class="mobile-nav-link">Diwali Special</a>
            <a href="contact.html" class="mobile-nav-link">Contact</a>
        </div>
        <!-- Mobile menu overlay -->
        <div class="mobile-nav-overlay" id="mobile-nav-overlay"></div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Raj Sweet Mart</h1>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Bellefair&family=Intel+One+Mono:ital,wght@0,300..700;1,300..700&family=Merienda:wght@300..900&display=swap');
            </style>
            <!-- <p class="hero-description">Discover the finest sweets and treats at Raj Sweet Mart</p> -->
            <div class="hotel-logo">
                <img src="/images/logo2.png" alt="Raj Sweet Mart Logo" class="logo-image">
            </div>
            <h3>Opening time: 7:00 AM</h3>
            <h3>Closing time: 10:00 PM</h3>
            <br>
            <h4>Address: Near Lad Mobile Shop Bari Pura Old Town, Badnera</h4>
            <a href="menu.html" class="cta-button">Explore Menu</a>
            <br><br>
            <a href="contact.html" class="cta-button">Get Location</a>
        </div>
    </section>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/+919850937027" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Background Slideshow Script -->
    <script>
        class BackgroundSlideshow {
            constructor() {
                this.slides = document.querySelectorAll('.slide');
                this.currentSlide = 0;
                this.slideInterval = null;
                this.isInitialized = false;
                
                this.init();
            }
            
            init() {
                // Wait for images to load before starting
                this.preloadImages().then(() => {
                    this.startSlideshow();
                    this.hideLoading();
                });
            }
            
            preloadImages() {
                const imagePromises = Array.from(this.slides).map(slide => {
                    return new Promise((resolve, reject) => {
                        const img = new Image();
                        const bgImage = slide.style.backgroundImage;
                        const url = bgImage.slice(4, -1).replace(/"/g, "");
                        
                        img.onload = () => resolve();
                        img.onerror = () => resolve(); // Continue even if image fails
                        img.src = url;
                    });
                });
                
                return Promise.all(imagePromises);
            }
            
            hideLoading() {
                const loading = document.getElementById('slideshowLoading');
                if (loading) {
                    loading.classList.add('hidden');
                }
            }
            
            startSlideshow() {
                if (this.slides.length === 0) return;
                
                // Show first slide
                this.slides[0].classList.add('active');
                this.isInitialized = true;
                
                // Start automatic slideshow
                this.slideInterval = setInterval(() => {
                    this.nextSlide();
                }, 3000); // Change every 3 seconds
            }
            
            nextSlide() {
                if (!this.isInitialized) return;
                
                // Remove active class from current slide
                this.slides[this.currentSlide].classList.remove('active');
                
                // Move to next slide
                this.currentSlide = (this.currentSlide + 1) % this.slides.length;
                
                // Add active class to new slide
                this.slides[this.currentSlide].classList.add('active');
            }
            
            pauseSlideshow() {
                if (this.slideInterval) {
                    clearInterval(this.slideInterval);
                }
            }
            
            resumeSlideshow() {
                if (this.isInitialized) {
                    this.slideInterval = setInterval(() => {
                        this.nextSlide();
                    }, 3000);
                }
            }
        }
        
        // Initialize slideshow when page loads
        document.addEventListener('DOMContentLoaded', () => {
            const slideshow = new BackgroundSlideshow();
            
            // Pause slideshow when page is not visible (performance optimization)
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    slideshow.pauseSlideshow();
                } else {
                    slideshow.resumeSlideshow();
                }
            });
        });
    </script>

    <script src="/js/script.js"></script>
</body>
</html>